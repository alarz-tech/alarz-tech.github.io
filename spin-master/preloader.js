(()=>{function h(){let c=document.getElementById("pbar-label"),t=document.getElementById("pbar-fill");return n=>{let e=`${Math.floor(n*100)}%`;c.innerText="Loading: "+e,t.style.width=e}}async function p(){let c=h(),t=await fetch("./main.js"),n=t.body?.getReader();if(!n){console.error("Couldn't get response body reader");return}let e=t.headers.get("Content-Length")||"130000";if(!e){console.error("Couldn't receive content length");return}let s=parseInt(e,10);console.log("Content length",e,s);let o=0,l=[];for(;;){let{done:r,value:u}=await n.read();if(r)break;l.push(u),o+=u.length,console.log(`Received ${o} of ${s}`),c(Math.min(o/s,1))}let a=new Uint8Array(o),d=0;for(let r of l)a.set(r,d),d+=r.length;let g=new TextDecoder("utf-8").decode(a),i=document.createElement("script");i.innerHTML=g,document.body.appendChild(i)}p();})();
