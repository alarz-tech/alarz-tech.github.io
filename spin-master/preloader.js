(()=>{function h(){let o=document.getElementById("progress");return e=>{o.innerText=`Loading: ${Math.floor(e*100)}%`}}async function p(){let o=h(),e=await fetch("./main.js"),r=e.body?.getReader();if(!r){console.error("Couldn't get response body reader");return}let s=e.headers.get("Content-Length")||0;if(!s){console.error("Couldn't receive content length");return}let c=parseInt(s,10),t=0,d=[];for(;;){let{done:n,value:u}=await r.read();if(n)break;d.push(u),t+=u.length,console.log(`Received ${t} of ${c}`),o(t/c)}let a=new Uint8Array(t),i=0;for(let n of d)a.set(n,i),i+=n.length;let g=new TextDecoder("utf-8").decode(a),l=document.createElement("script");l.innerHTML=g,document.body.appendChild(l)}p();})();
